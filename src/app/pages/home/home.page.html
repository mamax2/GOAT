<ion-header class="hero-header">
  <div class="hero mustard-gradient">
    <h1>Benvenut@ in <strong>GOAT</strong></h1>
    <button class="goat-btn-outline" (click)="goToAnnouncement()">
      Pubblica nuovo annuncio
    </button>

    <a (click)="goToProfile()">
      <img src="assets/images/goat_logo.png" alt="GOAT" class="hero-logo" />
    </a>
  </div>

  <div class="tabs">
    <div
      class="tab"
      [class.active]="activeTab === 'richiesta'"
      (click)="changeTab('richiesta')"
    >
      Richieste
    </div>

    <div
      class="tab"
      [class.active]="activeTab === 'offerta'"
      (click)="changeTab('offerta')"
    >
      Offerte
    </div>

    <div
      class="tab"
      [class.active]="activeTab === 'lastminute'"
      (click)="changeTab('lastminute')"
    >
      Last minute
    </div>
  </div>
</ion-header>

<ion-content class="ion-padding page">
  <!-- LOADER -->
  <div *ngIf="loading" class="loading">Caricamento...</div>

  <!-- CARD LIST -->
  <div *ngIf="!loading" class="card-list">
    <div *ngFor="let a of announcements" class="request-card">
      <!-- HEADER -->
      <div class="card-header">
        <h2>{{ a.title }}</h2>
        <ion-icon [name]="a.icon || 'document-outline'"></ion-icon>
      </div>

      <!-- METADATA -->
      <div class="card-meta">{{ a.subtitle }}</div>

      <!-- DESCRIPTION -->
      <div class="card-desc">{{ a.description }}</div>

      <div class="divider"></div>

      <!-- FOOTER -->
      <div class="card-footer">
        <div class="info">
          {{ a.duration_hours }}h – {{ a.remaining_spots }} posti – {{ a.credits
          }} credits
        </div>

        <ion-button class="proponiti" size="small">
          {{ a.cta_label }}
        </ion-button>
      </div>
    </div>
  </div>
</ion-content>

<ion-footer class="bottom-nav">
  <ion-tab-bar>
    <ion-tab-button tab="home" selected>
      <ion-icon name="home-outline"></ion-icon>
      <ion-label>Home</ion-label>
    </ion-tab-button>
    <ion-tab-button tab="wallet">
      <ion-icon name="wallet-outline"></ion-icon>
      <ion-label>Wallet</ion-label>
    </ion-tab-button>
    <ion-tab-button tab="annunci">
      <ion-icon name="document-outline"></ion-icon>
      <ion-label>Annunci</ion-label>
    </ion-tab-button>
    <ion-tab-button tab="match">
      <ion-icon name="people-outline"></ion-icon>
      <ion-label>Match</ion-label>
    </ion-tab-button>
  </ion-tab-bar>
</ion-footer>
