/*
 * App Global CSS
 * ----------------------------------------------------------------------------
 */

/* Core CSS required for Ionic components to work properly */
@import "@ionic/angular/css/core.css";

/* Basic CSS for apps built with Ionic */
@import "@ionic/angular/css/normalize.css";
@import "@ionic/angular/css/structure.css";
@import "@ionic/angular/css/typography.css";
@import "@ionic/angular/css/display.css";

/* Optional CSS utils */
@import "@ionic/angular/css/padding.css";
@import "@ionic/angular/css/float-elements.css";
@import "@ionic/angular/css/text-alignment.css";
@import "@ionic/angular/css/text-transformation.css";
@import "@ionic/angular/css/flex-utils.css";

/* Dark mode system */
@import "@ionic/angular/css/palettes/dark.system.css";

/* =========================================
   GLOBAL THEME — Mustard / Warm
   ========================================= */

/* ---------- Base palette ---------- */
:root {
  /* Mustard scale */
  --mustard: #e1ad01; /* base */
  --mustard-700: #c38b00; /* darker */
  --mustard-600: #d39a00;
  --mustard-300: #f2ce5b;
  --mustard-200: #ffe89a;
  --mustard-contrast: #1e1600; /* text on mustard */

  /* Warm accents & neutrals */
  --rose: #e06a7c;
  --apricot: #ffc48f;

  --ink: #231916; /* main text */
  --ink-2: #3b2b27; /* secondary text */
  --shell: #fcfbf6; /* app background */
  --clay: #e9d8d3; /* soft border */

  /* ---------- Ionic Required Color Vars ---------- */
  /* PRIMARY = mustard */
  --ion-color-primary: var(--mustard);
  --ion-color-primary-rgb: 225, 173, 1;
  --ion-color-primary-contrast: var(--mustard-contrast);
  --ion-color-primary-contrast-rgb: 30, 22, 0;
  --ion-color-primary-shade: var(--mustard-600);
  --ion-color-primary-tint: var(--mustard-300);

  /* SECONDARY = apricot */
  --ion-color-secondary: var(--apricot);
  --ion-color-secondary-rgb: 255, 196, 143;
  --ion-color-secondary-contrast: #20160f;
  --ion-color-secondary-shade: #f0b27f;
  --ion-color-secondary-tint: #ffd7b3;

  /* TERTIARY = rose */
  --ion-color-tertiary: var(--rose);
  --ion-color-tertiary-rgb: 224, 106, 124;
  --ion-color-tertiary-contrast: #fff7f5;
  --ion-color-tertiary-shade: #c7596a;
  --ion-color-tertiary-tint: #eb8c9a;

  /* STATUS */
  --ion-color-success: #4da37f;
  --ion-color-success-contrast: #0f1a16;
  --ion-color-success-shade: #418b6c;
  --ion-color-success-tint: #69b596;

  --ion-color-warning: #ffd48a;
  --ion-color-warning-contrast: #1b1408;
  --ion-color-warning-shade: #e6bc77;
  --ion-color-warning-tint: #ffe0aa;

  --ion-color-danger: #d45454;
  --ion-color-danger-contrast: #fff7f7;
  --ion-color-danger-shade: #b84949;
  --ion-color-danger-tint: #df7878;

  /* App background & text */
  --ion-background-color: var(--shell);
  --ion-background-color-rgb: 255, 247, 244;
  --ion-text-color: var(--ink);
  --ion-text-color-rgb: 35, 25, 22;

  /* Surfaces */
  --surface: #fffdfa;
  --surface-elev: #fff7e7;
  --surface-border: var(--clay);

  /* Radius & shadows */
  --radius-lg: 16px;
  --radius-xl: 22px;
  --shadow-soft: 0 6px 20px rgba(35, 25, 22, 0.07);
  --shadow-strong: 0 16px 40px rgba(35, 25, 22, 0.13);

  /* Typography */
  --font-sans: ui-sans-serif, system-ui, -apple-system, "Inter", "Satoshi",
    Roboto, "Helvetica Neue", Arial, "Segoe UI", sans-serif;
  --font-weight-heading: 700;
  --font-weight-body: 450;
}

/* ---------- Resets ---------- */
* {
  box-sizing: border-box;
}
html,
body,
ion-app,
ion-content {
  height: 100%;
}
body {
  font-family: var(--font-sans);
  color: var(--ion-text-color);
  background: var(--ion-background-color);
}

/* ---------- Ionic tuning ---------- */
ion-toolbar {
  --background: var(--surface);
  --color: var(--ion-text-color);
  box-shadow: var(--shadow-soft);
}
ion-card {
  --background: var(--surface);
  border: 1px solid var(--surface-border);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-soft);
}
ion-chip {
  border-radius: 999px;
}

/* =========================================
   BUTTONS (Mustard)
   ========================================= */

/* SOLID  */
ion-button.btn-mustard {
  --background: linear-gradient(
    135deg,
    var(--mustard-700) 0%,
    var(--mustard) 60%,
    var(--mustard-300) 100%
  );
  --background-hover: linear-gradient(
    135deg,
    var(--mustard-700) 0%,
    var(--mustard-300) 100%
  );
  --background-activated: linear-gradient(
    135deg,
    var(--mustard-700) 0%,
    var(--mustard-600) 100%
  );
  --color: var(--mustard-contrast);
  --border-radius: 999px;
  --padding-start: 28px;
  --padding-end: 28px;
  --padding-top: 12px;
  --padding-bottom: 12px;
  --box-shadow: 0 12px 26px rgba(211, 154, 0, 0.28);

  &::part(native) {
    font-weight: 600;
    letter-spacing: 0.01em;
    text-transform: none;
  }
}

/* OUTLINE */
ion-button.btn-mustard-outline,
ion-button.btn-mustard-outline[fill="outline"],
ion-button.btn-mustard-outline.button-outline {
  --background: transparent;
  --color: var(--mustard-700);
  --border-color: var(--mustard-700);
  --border-width: 2px;
  --border-style: solid;
  --border-radius: 999px;
  --padding-start: 28px;
  --padding-end: 28px;
  --padding-top: 12px;
  --padding-bottom: 12px;
  --background-hover: rgba(195, 139, 0, 0.12);
  --background-activated: rgba(195, 139, 0, 0.18);
  --box-shadow: 0 10px 22px rgba(195, 139, 0, 0.12);

  &::part(native) {
    font-weight: 600;
    letter-spacing: 0.01em;
    text-transform: none;
  }
}

/* Disabilitato (opzionale) */
ion-button[disabled] {
  --opacity: 0.6;
  --box-shadow: none;
  pointer-events: none;
}

/* =========================================
   CHIPS (Mustard)
   ========================================= */

ion-chip.chip-mustard,
ion-chip.chip-mustard-outline {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 48px;
}

/* Filled */
ion-chip.chip-mustard {
  border-radius: 999px;
  background: linear-gradient(
    135deg,
    var(--mustard-700) 0%,
    var(--mustard) 60%,
    var(--mustard-300) 100%
  );
  color: var(--mustard-contrast);
  box-shadow: 0 12px 26px rgba(211, 154, 0, 0.28);
  transition: transform 0.15s ease, box-shadow 0.2s ease;

  &::part(native) {
    background: transparent;
    color: inherit;
    font-weight: 600;
    letter-spacing: 0.01em;
    text-transform: none;
    padding-inline: 28px;
    padding-block: 12px;
    border-radius: inherit;
  }

  &:hover:not([disabled]),
  &:focus-visible:not([disabled]) {
    box-shadow: 0 16px 32px rgba(211, 154, 0, 0.32);
    transform: translateY(-1px);
  }

  &:active:not([disabled]) {
    box-shadow: 0 8px 20px rgba(211, 154, 0, 0.24);
    transform: translateY(0);
  }

  &[disabled] {
    opacity: 0.65;
    box-shadow: none;
    pointer-events: none;
  }
}

/* Outline */
ion-chip.chip-mustard-outline {
  border-radius: 999px;
  background: transparent;
  color: var(--mustard-700);
  border: 2px solid var(--mustard-700);
  box-shadow: 0 10px 22px rgba(195, 139, 0, 0.12);
  transition: transform 0.15s ease, box-shadow 0.2s ease,
    background-color 0.2s ease;

  &::part(native) {
    background: transparent;
    color: inherit;
    font-weight: 600;
    letter-spacing: 0.01em;
    text-transform: none;
    padding-inline: 28px;
    padding-block: 12px;
    border-radius: inherit;
  }

  &:hover,
  &:focus-visible {
    background: rgba(195, 139, 0, 0.1);
    box-shadow: 0 12px 26px rgba(195, 139, 0, 0.18);
    transform: translateY(-1px);
  }

  &:active {
    background: rgba(195, 139, 0, 0.14);
    transform: translateY(0);
  }
}

ion-accordion {
  border: 0;
  border-radius: 0;
  box-shadow: none;
  overflow: visible;
}
ion-accordion [slot="header"] {
  --background: var(--ion-background-color);
  --color: var(--ion-text-color);
  --border-color: var(--ion-item-border-color);
  --inner-border-width: 1px;
  border: 0;
  box-shadow: none;
  border-radius: 0;
  --detail-icon-color: currentColor;
  --detail-icon-opacity: 1;
}
ion-accordion [slot="content"] {
  background: var(--ion-background-color);
  color: var(--ion-text-color);
  padding: 16px;
}

/* Gruppo con gap  */
ion-accordion-group.acc-rounded {
  display: grid;
  gap: 12px;
}

/* ===== FILLED ===== */
ion-accordion.acc-primary {
  display: block;
  border-radius: 16px;
  overflow: hidden; /* taglia gli angoli interni */
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.08);
  background: color-mix(in srgb, var(--ion-color-primary) 14%, #fff);

  /* HEADER: togli bordo/radius del ion-item */
  [slot="header"] {
    --background: var(--ion-color-primary);
    --color: var(--ion-color-primary-contrast);
    --min-height: 56px;
    --padding-start: 16px;
    --padding-end: 12px;
    --inner-padding-end: 12px;

    /* ← questi 3 eliminano il “cartellino” */
    --border-color: transparent;
    --inner-border-width: 0; /* toglie la riga interna */
    border: 0;
    box-shadow: none;
    border-radius: 0;
  }

  [slot="content"] {
    background: color-mix(in srgb, var(--ion-color-primary) 10%, #fff);
    color: var(--ion-text-color);
    padding: 14px 16px 16px;
  }
}

/* ===== OUTLINE ===== */
ion-accordion.acc-primary-outline {
  display: block;
  border-radius: 16px;
  overflow: hidden;
  border: 1.5px solid var(--ion-color-primary);
  background: #fff;

  [slot="header"] {
    --background: transparent;
    --color: var(--ion-color-primary);
    --min-height: 56px;
    --padding-start: 16px;
    --padding-end: 12px;
    --inner-padding-end: 12px;

    /* niente bordo/radius sul ion-item header */
    --border-color: transparent;
    --inner-border-width: 0;
    border: 0;
    box-shadow: none;
    border-radius: 0;
  }

  [slot="content"] {
    background: color-mix(in srgb, var(--ion-color-primary) 6%, #fff);
    color: var(--ion-text-color);
    padding: 14px 16px 16px;
  }
}

/* Stato: hover / expanded (facoltativo) */
ion-accordion.acc-primary:hover {
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
}
ion-accordion.acc-primary[expanded] {
  box-shadow: 0 10px 28px rgba(0, 0, 0, 0.14);
}

ion-accordion.acc-primary-outline:hover {
  box-shadow: 0 8px 22px rgba(0, 0, 0, 0.08);
}
ion-accordion.acc-primary-outline[expanded] {
  box-shadow: 0 10px 28px rgba(0, 0, 0, 0.12);
}

/* Focus accessibile sul container */
ion-accordion.acc-primary:focus-within,
ion-accordion.acc-primary-outline:focus-within {
  outline: 3px solid color-mix(in srgb, var(--ion-color-primary) 28%, #fff);
  outline-offset: 2px;
}

/* =========================================
   Utilities
   ========================================= */
.bg-primary {
  background: var(--ion-color-primary) !important;
  color: var(--ion-color-primary-contrast) !important;
}
.text-primary {
  color: var(--ion-color-primary) !important;
}
.border-soft {
  border: 1px solid var(--surface-border);
  border-radius: var(--radius-lg);
}
.shadow-soft {
  box-shadow: var(--shadow-soft);
}
.round-xl {
  border-radius: var(--radius-xl);
}

.mustard-gradient {
  background: linear-gradient(
    135deg,
    var(--mustard) 0%,
    var(--mustard-300) 45%,
    #fff9df 100%
  );
  color: #201615;
}

/* Accessibilità focus */
:focus-visible {
  outline: 3px solid var(--mustard-200);
  outline-offset: 2px;
}
